# ğŸŒ Cloudflare Worker åœ¨çº¿ç¯å¢ƒæµ‹è¯•æŠ¥å‘Š (Online)

## ğŸ“Š æµ‹è¯•æ¦‚è§ˆ

**æµ‹è¯•æ—¶é—´**: 2025/09/20 15:51:42
**æµ‹è¯•ç¯å¢ƒ**: åœ¨çº¿ç¯å¢ƒ (beta.plaud.ai)
**æµ‹è¯•æ–‡ä»¶**: online-routing.test.ts
**æ€»æµ‹è¯•æ•°**: 31
**é€šè¿‡**: 31 âœ…
**å¤±è´¥**: 0 âŒ
**è·³è¿‡**: 0 â­ï¸
**æˆåŠŸç‡**: 100.0%

## ğŸŒ åœ¨çº¿ç¯å¢ƒé…ç½®

- **åŸŸå**: beta.plaud.ai (å…¬æµ‹ç¯å¢ƒ)
- **é»˜è®¤èµ„æº**: plaud-web.pages.dev (æ—§ç‰ˆæœ¬)
- **æ–°ç‰ˆæœ¬èµ„æº**: beta.plaud-web.pages.dev
- **é»˜è®¤ç°åº¦**: 0% (ä¿å®ˆå‘å¸ƒç­–ç•¥)
- **ç™½åå•åŸŸå**: api.plaud.ai, www.plaud.ai, plaud.ai

## ğŸ¯ æµ‹è¯•çŠ¶æ€

ğŸ‰ **æ‰€æœ‰åœ¨çº¿æµ‹è¯•é€šè¿‡ï¼**

## ğŸ“‹ è¯¦ç»†ç»“æœ

### ğŸ“ online-routing.test.ts

#### online.hashStringToPercentage - åœ¨çº¿ç¯å¢ƒå“ˆå¸Œç®—æ³•

- âœ… **åº”è¯¥è¿”å›ä¸€è‡´çš„å“ˆå¸Œç™¾åˆ†æ¯”** (3ä¸ª)
- âœ… **ç›¸åŒå­—ç¬¦ä¸²åº”è¯¥è¿”å›ç›¸åŒç»“æœ** (1ä¸ª)
- âœ… **åº”è¯¥è¿”å› 0-99 èŒƒå›´å†…çš„å€¼** (100ä¸ª)

#### buildNewPagesOrigin - åœ¨çº¿åŸŸåæ„å»º

- âœ… **åº”è¯¥å¤„ç† beta.plaud.ai å­åŸŸå** (2ä¸ª)
- âœ… **åº”è¯¥å¤„ç†æ ¹åŸŸå plaud.ai** (1ä¸ª)
- âœ… **åº”è¯¥å¤„ç†ç™½åå•åŸŸå** (2ä¸ª)
- âœ… **åº”è¯¥å¤„ç†å¤æ‚å­åŸŸå** (1ä¸ª)

#### Online Routing Logic (beta.plaud.ai åœ¨çº¿ç¯å¢ƒ) â€º åœ¨çº¿è·¯ç”±é€»è¾‘æµ‹è¯• - beta.plaud.ai åŸŸå

| è®¿é—®åœ°å€ | æµ‹è¯•åœºæ™¯ | ç”¨æˆ·æ ‡è¯† | x-pld-env | ç°åº¦% | ç»“æœåœ°å€ | å‘½ä¸­ç°åº¦ | çŠ¶æ€ | æ–­è¨€ |
|----------|---------|----------|-----------|-------|----------|----------|------|---------|
| beta.plaud.ai/dashboard | åœ¨çº¿ç¯å¢ƒé»˜è®¤0%ç°åº¦ - æ‰€æœ‰ç”¨æˆ·ä½¿ç”¨æ—§ç‰ˆæœ¬ | beta_user789 | - | 0% | plaud-web.pages.dev | âŒ æœªå‘½ä¸­ (34% > 0%) | âœ… | 5ä¸ª |
| beta.plaud.ai/* | åœ¨çº¿ç¯å¢ƒ10%ç°åº¦ - ä½å“ˆå¸Œç”¨æˆ·å‘½ä¸­æ–°ç‰ˆæœ¬ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 2ä¸ª |
| beta.plaud.ai/dashboard | åœ¨çº¿ç¯å¢ƒ40%ç°åº¦ - ä½å“ˆå¸Œç”¨æˆ·å‘½ä¸­æ–°ç‰ˆæœ¬ | beta_user789 | - | 40% | beta.plaud-web.pages.dev | âœ… å‘½ä¸­ (34% < 40%) | âœ… | 3ä¸ª |
| beta.plaud.ai/dashboard | ç¯å¢ƒå¤´åº”è¯¥ä¼˜å…ˆäºç°åº¦é€»è¾‘ | beta_user123 | staging | 0% | staging.plaud-web.pages.dev | ğŸ”„ ç¯å¢ƒå¤´ä¼˜å…ˆ | âœ… | 2ä¸ª |
| beta.plaud.ai/dashboard | æ²¡æœ‰å®¢æˆ·ç«¯æ ‡ç­¾åº”è¯¥é»˜è®¤æ—§ç‰ˆæœ¬ | æ—  | - | 50% | plaud-web.pages.dev | âŒ é»˜è®¤æ—§ç‰ˆæœ¬ | âœ… | 4ä¸ª |

#### Online Routing Logic (beta.plaud.ai åœ¨çº¿ç¯å¢ƒ) â€º åœ¨çº¿åŸŸåæ˜ å°„æµ‹è¯• - beta.plaud.ai ç¯å¢ƒ

| è®¿é—®åœ°å€ | æµ‹è¯•åœºæ™¯ | ç”¨æˆ·æ ‡è¯† | x-pld-env | ç°åº¦% | ç»“æœåœ°å€ | å‘½ä¸­ç°åº¦ | çŠ¶æ€ | æ–­è¨€ |
|----------|---------|----------|-----------|-------|----------|----------|------|---------|
| beta.plaud.ai/dashboard | è®¿é—® beta.plaud.ai åº”è¯¥è¿”å› beta.plaud-web.pages.dev | beta_user789 | - | 40% | beta.plaud-web.pages.dev | âœ… å‘½ä¸­ (34% < 40%) | âœ… | 2ä¸ª |
| app.plaud.ai/profile | è®¿é—® app.plaud.ai åº”è¯¥è¿”å› app.plaud-web.pages.dev | beta_user789 | - | 40% | app.plaud-web.pages.dev | âœ… å‘½ä¸­ (34% < 40%) | âœ… | 2ä¸ª |
| api.plaud.ai/v1/users | è®¿é—® api.plaud.ai ç™½åå•åŸŸåä¿æŒåŸæ · | beta_user456 | staging (æ— æ•ˆ) | 50% | api.plaud.ai | âšª ç™½åå•åŸŸå | âœ… | 2ä¸ª |
| plaud.ai/home | è®¿é—®æ ¹åŸŸå plaud.ai ç™½åå•åŸŸåä¿æŒåŸæ · | beta_user789 | - | 50% | plaud.ai | âšª ç™½åå•åŸŸå | âœ… | 2ä¸ª |
| www.plaud.ai/about | è®¿é—® www.plaud.ai ç™½åå•åŸŸåä¿æŒåŸæ · | æ—  | prod (æ— æ•ˆ) | 50% | www.plaud.ai | âšª ç™½åå•åŸŸå | âœ… | 2ä¸ª |
| beta.plaud.ai/dashboard | é«˜å“ˆå¸Œç”¨æˆ·è®¿é—® beta.plaud.ai åº”è¯¥è¿”å›æ—§ç‰ˆæœ¬åŸŸå | beta_user789 | - | 40% | beta.plaud-web.pages.dev | âœ… å‘½ä¸­ (34% < 40%) | âœ… | 3ä¸ª |
| beta.plaud.ai/* | ç¯å¢ƒå¤´ä¼˜å…ˆçº§æµ‹è¯• - å³ä½¿æ˜¯æ—§ç‰ˆæœ¬ç”¨æˆ·ä¹Ÿä¼šè·¯ç”±åˆ°æŒ‡å®šç¯å¢ƒ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 2ä¸ª |
| beta.plaud.ai/* | å¤æ‚å­åŸŸåæµ‹è¯• - admin.api.plaud.ai | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 2ä¸ª |
| beta.plaud.ai/* | å¸¦æŸ¥è¯¢å‚æ•°çš„URLåº”è¯¥ä¿æŒå‚æ•° | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 2ä¸ª |
| beta.plaud.ai/* | ç™½åå•åŸŸåæµ‹è¯• - ç¯å¢ƒå¤´å¯¹ç™½åå•åŸŸåæ— æ•ˆ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 2ä¸ª |

#### Online Routing Logic (beta.plaud.ai åœ¨çº¿ç¯å¢ƒ) â€º åœ¨çº¿ç°åº¦å‘å¸ƒåœºæ™¯æµ‹è¯•

| è®¿é—®åœ°å€ | æµ‹è¯•åœºæ™¯ | ç”¨æˆ·æ ‡è¯† | x-pld-env | ç°åº¦% | ç»“æœåœ°å€ | å‘½ä¸­ç°åº¦ | çŠ¶æ€ | æ–­è¨€ |
|----------|---------|----------|-----------|-------|----------|----------|------|---------|
| beta.plaud.ai/test | 0%ç°åº¦ - æ‰€æœ‰ç”¨æˆ·éƒ½ä½¿ç”¨æ—§ç‰ˆæœ¬ | beta_user_a~c | - | 0% | plaud-web.pages.dev | âŒ å…¨éƒ¨æ—§ç‰ˆæœ¬ | âœ… | 6ä¸ª |
| beta.plaud.ai/* | 5%ç°åº¦ - æå°‘æ•°ç”¨æˆ·å‘½ä¸­æ–°ç‰ˆæœ¬ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 3ä¸ª |
| beta.plaud.ai/* | 50%ç°åº¦ - çº¦ä¸€åŠç”¨æˆ·å‘½ä¸­æ–°ç‰ˆæœ¬ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 20ä¸ª |
| beta.plaud.ai/test | 100%ç°åº¦ - æ‰€æœ‰ç”¨æˆ·éƒ½ä½¿ç”¨æ–°ç‰ˆæœ¬ | beta_user_x~z | - | 100% | beta.plaud-web.pages.dev | âœ… å…¨éƒ¨æ–°ç‰ˆæœ¬ | âœ… | 6ä¸ª |
| beta.plaud.ai/rollout | åœ¨çº¿æ¸è¿›å¼å‘å¸ƒæ¨¡æ‹Ÿ - ä»0%åˆ°100% | beta_consistent_user | - | 0%â†’100% | æ¸è¿›å¼å‘½ä¸­ | ğŸ“ˆ æ¸è¿›å¼å‘å¸ƒ | âœ… | 14ä¸ª |

#### Online Routing Logic (beta.plaud.ai åœ¨çº¿ç¯å¢ƒ) â€º åœ¨çº¿ç¯å¢ƒç‰¹æ®Šåœºæ™¯æµ‹è¯•

| è®¿é—®åœ°å€ | æµ‹è¯•åœºæ™¯ | ç”¨æˆ·æ ‡è¯† | x-pld-env | ç°åº¦% | ç»“æœåœ°å€ | å‘½ä¸­ç°åº¦ | çŠ¶æ€ | æ–­è¨€ |
|----------|---------|----------|-----------|-------|----------|----------|------|---------|
| beta.plaud.ai/* | æ—§è·¯ç”±å¼ºåˆ¶ä½¿ç”¨æ—§ç‰ˆæœ¬ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 3ä¸ª |
| beta.plaud.ai/* | ç¯å¢ƒå¤´ä¸ç°åº¦çš„ä¼˜å…ˆçº§ - ç¯å¢ƒå¤´è¦†ç›–ç°åº¦é€»è¾‘ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 4ä¸ª |
| beta.plaud.ai/* | åº”è¯¥æ­£ç¡®å¤„ç†å¤æ‚çš„ URL | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 3ä¸ª |
| beta.plaud.ai/* | åº”è¯¥è¿”å›å®Œæ•´çš„è°ƒè¯•ä¿¡æ¯ | beta_user | - | 0% | plaud-web.pages.dev | ğŸŒ åœ¨çº¿ç¯å¢ƒ | âœ… | 10ä¸ª |



## ğŸ“ é¡¹ç›®ç»“æ„

```
apps/web-worker/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ offline.worker.js                    # ç¦»çº¿ Worker é€»è¾‘ (theplaud.com)
â”‚   â”œâ”€â”€ online.worker.js                     # åœ¨çº¿ Worker é€»è¾‘ (beta.plaud.ai)
â”‚   â”œâ”€â”€ shared-logic.js                      # å…±äº«å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ index.ts                             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ routing-logic.test.ts                # ç¦»çº¿è·¯ç”±é€»è¾‘æµ‹è¯•
â”‚   â”œâ”€â”€ online-routing.test.ts               # åœ¨çº¿è·¯ç”±é€»è¾‘æµ‹è¯•
â”‚   â””â”€â”€ test-utils.ts                        # æµ‹è¯•å·¥å…·å‡½æ•°
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate-offline-test-report.ts      # ç¦»çº¿æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â””â”€â”€ generate-online-test-report.ts       # åœ¨çº¿æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨
â”œâ”€â”€ cloudflare-worker-offline.js             # ç¦»çº¿å®Œæ•´ Worker
â”œâ”€â”€ cloudflare-worker-online.js              # åœ¨çº¿å®Œæ•´ Worker
â””â”€â”€ reports/
    â”œâ”€â”€ latest-test-report.md                # ç¦»çº¿æµ‹è¯•æŠ¥å‘Š
    â””â”€â”€ online-test-report.md                # åœ¨çº¿æµ‹è¯•æŠ¥å‘Š
```

## ğŸ”§ åœ¨çº¿ç¯å¢ƒç‰¹æ€§

### ğŸ¯ è·¯ç”±é€»è¾‘
- **ç°åº¦å‘å¸ƒ**: åŸºäºç”¨æˆ·æ ‡è¯†çš„å“ˆå¸Œå€¼è¿›è¡Œæµé‡åˆ†é…
- **ç¯å¢ƒè·¯ç”±**: æ”¯æŒé€šè¿‡ x-pld-env header æŒ‡å®šç›®æ ‡ç¯å¢ƒ
- **åŸŸåæ˜ å°„**: beta.plaud.ai -> beta.plaud-web.pages.dev
- **ç™½åå•æœºåˆ¶**: APIåŸŸåä¸åšè·¯ç”±å¤„ç†ï¼Œä¿æŒåŸæ ·

### ğŸ›¡ï¸ å®‰å…¨ç­–ç•¥
- **ä¿å®ˆå‘å¸ƒ**: é»˜è®¤0%ç°åº¦ï¼Œç¡®ä¿çº¿ä¸Šç¨³å®šæ€§
- **æ¸è¿›å¼å‘å¸ƒ**: æ”¯æŒä»0%é€æ­¥æ‰©å¤§åˆ°100%
- **å›æ»šæœºåˆ¶**: å¯å¿«é€Ÿè°ƒæ•´ç°åº¦ç™¾åˆ†æ¯”
- **ç¯å¢ƒéš”ç¦»**: çº¿ä¸Šç¯å¢ƒç‹¬ç«‹é…ç½®

### ğŸ§ª æµ‹è¯•è¦†ç›–
- å“ˆå¸Œç®—æ³•ä¸€è‡´æ€§æµ‹è¯•
- Cookie è§£æåŠŸèƒ½æµ‹è¯•
- åŸŸåæ„å»ºé€»è¾‘æµ‹è¯•
- å®Œæ•´è·¯ç”±æµç¨‹æµ‹è¯•
- ç°åº¦å‘å¸ƒåœºæ™¯æµ‹è¯•
- ç¯å¢ƒå¤´ä¼˜å…ˆçº§æµ‹è¯•
- ç™½åå•åŸŸåæµ‹è¯•
- æ¸è¿›å¼å‘å¸ƒæ¨¡æ‹Ÿ

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2025/09/20 15:51:42*
*æµ‹è¯•æ¡†æ¶: Jest | ç¯å¢ƒ: åœ¨çº¿ (beta.plaud.ai)*
